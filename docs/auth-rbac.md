# Аутентификация и роли (RBAC)

Добавлена простая in-app система аутентификации и разграничения прав.

## Роли

- assembler (Сборщик) — минимальный доступ: главная панель.
- operator (Оператор) — + доступ к заказам, операторскому режиму, сканеру.
- manager (Менеджер) — + управление товарами и шаблонами.
- admin (Админ) — полный доступ (≥ manager).

Иерархия: assembler < operator < manager < admin. Допуск по правилу "роль пользователя не ниже минимально требуемой".

## Дефолтные аккаунты

```
assembler / assembler123
operator / operator123
manager / manager123
admin / admin123
```

Пароли хэшируются простым псевдохэшем (НЕ безопасно для продакшена).

## Ограничения / TODO для продакшена

- Нет бэкенд-проверки токенов; всё хранится в localStorage.
- Нет истечения сессии, MFA, журналирования.
- Пароли и пользователи захардкожены в памяти.
- Нет защиты от перебора паролей.

## Как расширить

1. Заменить in-memory на API (login -> JWT / session cookie).
2. Реализовать refresh токены и срок жизни сессии.
3. Вести аудит действий (кто напечатал этикетку и т.п.).
4. Перевести права к claims на бэкенде.

## Использование

- Компонент `ProtectedRoute` в `App.tsx` ограничивает доступ к маршрутам.
- Навигация скрывает пункты, для которых у пользователя нет прав.
- В шапке отображается имя и роль + кнопка выхода.

## Добавление новой роли

1. Добавить её в тип UserRole и ROLE_ORDER.
2. Добавить метку в ROLE_LABELS.
3. Добавить пользователя / логику назначения в бэкенде.
4. Использовать `minRole` в списке navItems или `role` в `ProtectedRoute`.
